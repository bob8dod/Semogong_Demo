<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>

<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader"/>
    <div class="row mt-5">
        <div class="col">
            <iframe id="iframe1" name="iframe1" style="display:none"></iframe>
            <form role="form" th:action="@{/posts/edit/{id}/img (id=${postForm.id})} " method="post" target="iframe1" enctype="multipart/form-data">
                <div class="form-group">
                    <label th:for="image" style="display: inline-block">배경 이미지</label>
                    <div th:if="${postForm.image != null}" style="display: inline-block"> ( 현재 <p style="display: inline-block" th:text="${postForm.image.imgName}"> </p> 로 설정 되어 있습니다. 수정을 원하신다면 파일을 새로 선택 후 Upload 버튼을 눌러주세요.)</div>
                    <div class="input-group">
                        <input class="form-control" name="file" type="file" accept=".jpg, .png">
                        <button class="btn btn-outline-secondary" type="submit" id="inputGroupFileAddon04">Upload</button>
                    </div>
                </div>
            </form>
            <form role="form" th:object="${postForm}" method="post">
                <!-- id -->
                <input type="hidden" th:field="*{id}" />
                <div class="card-text" th:text="'작성자 : ' + *{memberName}"> Member's Name </div>
                <div class="card-text" th:text="'상태 : ' + *{state}"> Member's State </div>
                <div class="card-text" th:text="'희망 직무 : ' + *{memberDesiredJob}"> Member's Desired Job </div>
                <div class="form-group">
                    <div class="card-text">
                        <label th:for="times" style="display: inline-block"> 학습 시간 : </label>
                        <th:block th:id="timeNum+${i}" th:each="i: ${#numbers.sequence(0, #lists.size(postForm.times)-1)}">
                        <div style="display: inline-block; flex: 0 0 auto; width: 6.33333333%;" >
                            <input type="text"  th:field="*{times[__${iStat.index}__]}" class="form-control">
                        </div>
                            <p style="display: inline-block" th:if="${i % 2 == 0}">~</p>
                        </th:block>

                    </div>
<!--                    <label th:for="times"> 학습 시간 : </label> <button class="btn btn-outline-secondary btn-sm" type="button" id="button-addon2" onclick="add_link_box()">+</button>-->
<!--                    <div class="input-group" th:id="timeNum+${i}" th:each="i: ${#numbers.sequence(0, #lists.size(postForm.times))}">-->
<!--                        <input type="text" th:field="*{times[__${iStat.index}__]}" class="form-control">-->
<!--                        <button class="btn btn-outline-danger" type="button" th:onclick="|javascript:remove_link_box('${i}')|">X</button>-->
<!--                    </div>-->
                </div>
                <div class="form-group">
                    <label th:for="nickname">오늘의 한 줄</label>
                    <input type="text" th:field="*{introduce}" class="form-control"
                           placeholder="도시를 입력하세요">
                </div>
                <div class="form-group">
                    <label th:for="title">제목</label>
                    <input type="text" th:field="*{title}" class="form-control" placeholder="제목을 입력하세요" autocomplete="off" th:class="${#fields.hasErrors('title')}? 'form-control fieldError' : 'form-control'">
                    <p th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Incorrect date</p>
                </div>
                <div class="form-group">
                    <label th:for="content">내용</label>
                    <textarea type="text" rows="4" th:field="*{content}" placeholder="Content" class="form-control" autocomplete="off"></textarea>
                </div>

                <button class="btn btn-primary" type="submit">Submit</button>
            </form>
        </div>
    </div>
    <div th:replace="fragments/footer :: footer" />
</div>


<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
<script th:src="@{/assets/simplemde/simplemde.min.js}"></script>

<script>
    var simplemde = new SimpleMDE({element: document.getElementById("content")});
</script>

</body>
</html>